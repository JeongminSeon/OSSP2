# 정우철 진행사항

## 쿼리도 강화학습 전 틱택토를 바탕으로 사전 조사

우선 쿼리도보다 간단한 틱택토를 바탕으로 간단한 튜토리얼을 진행하였다.

### 궁금한 부분
- 현재 State를 바탕으로 어떤 Action이 가장 좋은 방법인지를 찾을 수 있는가
- Reward를 어떤 방법으로 지급할까
- 일어나서는 안되는 Action을 어떻게 처리할 것인가
- 스스로 학습을 어떻게 시킬 것인가

### 해결 방법
- 현재 State를 바탕으로 어떤 Action이 가장 좋은 방법인지를 찾을 수 있는가
    - NN을 이용하여 Q-Table을 구성하여 학습한다
- Reward를 어떤 방법으로 지급할까
    - 처음 고민할 때에는 매 Step마다 -1을 지급하여 최대한 빠르게 게임을 완료하도록 생각하였으나, 이는 승리를 빨리할 수 있지만 패배를 빨리할 수 있기 때문에 적절하지 않다고 판단하였다.
    - 그래서 승리 시에는 2, 무승부 시에는 1, 패배 시에는 -1을 지급하였다.
    - 틱택토의 특성상 2개명의 주체가 완벽한 전략을 가지고 있을 경우 무승부가 나올 수 있기 때문에 무승부에 대한 Reward를 1로 주었다.
- 일어나서는 안되는 Action을 어떻게 처리할 것인가
    - 일어나서는 안되는 Action을 처리하기 위해서는 현재 State를 바탕으로 가능한 Action을 찾아야 한다.
    - 위에서 찾은 가능한 Action을 바탕으로, 일어나서는 안되는 Action을 처리할 수 있다. 처리하는 방법은 2가지가 있다. 어느것이 더 좋은 성능일까?
        1. 만약 학습 단계에서 Agent가 불가능한 Action을 선택할 경우 Reward를 -10으로 주고, 다시 학습을 시킨다.
        2. 만약 학습 단계에서 Agent가 불가능한 Action을 선택할 경우, 불가능한 Action을 제외한 가능한 Action 중에서 가장 Reward가 높은 Action을 선택한다. (일단 이 방법으로 나름 일리있는 동작을 하는 것 같음)
- 스스로 학습을 어떻게 시킬 것인가
    - 우선 틱택토는 2명의 플레이어가 존재하기에 2개의 Agent가 필요하다고 생각했다.
    - 하지만 1개의 Agent로 모든 경우가 특정 플레이어라고 생각 할 경우, 2개의 Agent를 사용하는 것보다 더 좋은 성능을 낼 수 있을 것이라고 생각했다.
    - 그래서 1개의 Agent로 학습을 시키고, 2개의 Agent로 게임을 진행하여 학습을 시키는 방법을 사용하였다.
    - 이를 위해서 Environment에서 State를 가져오는 방법을 바꾸었다. 이전에는 State를 가져올 때 1번 플레이어의 State와 2번 플레이어의 State를 가져오는 방법을 사용하였다. 하지만 새로운 방법은 항상 1번 플레이어를 기준으로 하여 State를 가져오는 방법을 사용하였다.

### 결과
1. 첫 시도는 승리할 경우 1의 Reward를 주었다. 그리고 불가능한 Action을 선택할 경우 Reward를 -10으로 주었다. 이 방법으로 약 20000번 학습하여 랜덤한 Action을 선택하는 바보 Agent를 상대 하였으나, 학습한 Agent가 승리하거나 비기는 비율은 35:65로 오히려 바보 Agent가 이겼다. 이는 패배를 하는 경우에 대한 학습이 부족하였고, 무승부가 나오는 비율이 높아서 그런 것으로 생각된다.
2. 두번째 시도는 승리할 경우 2, 무승부일 경우 1, 패배할 경우 -1의 Reward를 주었다. 그리고 불가능한 Action을 선택할 경우 Reward를 -10으로 주었다. (이떄 불가능한 Action은 사전에 확인 후 차단하여 사실상 접근이 불가능하다) 이 방법으로 약 20000번 학습하여 랜덤한 Action을 선택하는 바보 Agent를 상대 하여 승리하거나 비기는 비율은 7:3으로 우세하는 모습을 보였다. 패배하는 방향에 대해 인지를 하는 부분이 큰 영향을 미친 것으로 생각된다.

### 추가로 고민할 점
- Reward를 정의하기 위해, 승리하는 조건은, 패배하는 조건을 어떻게 정의할 것인가
    - 패배하는 조건을 정의하기 위해서는 먼저 승리하는 조건을 정의해야 한다. 틱택토의 경우 간단한 게임이므로 승리하는 조건은 3개의 동일한 플레이어가 가로, 세로, 대각선으로 연속된 경우이므로 이를 기준으로 패배하는 조건을 정의할 수 있다. 하지만 우리가 정의해야 할 쿼리도, 더 나아가 보편적인 보드게임에 적용하기 위해서는 이보다 더 복잡한 조건이 필요할 수 있다.